<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Javadoc highlight</title>
    <link rel="stylesheet" href="./assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="./assets/css/style.css">
</head>
<body>

    <header id="header">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container">
                <a class="navbar-brand" href="#">Navbar</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item active">
                            <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Link</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                               data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Dropdown
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="#">Action</a>
                                <a class="dropdown-item" href="#">Another action</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="#">Something else here</a>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <section id="description">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Class string</h1>
                    <hr>
                </div>
            </div>
        </div>
    </section>
    
    <section id="tableaux" class="my-3">
        <div class="container">
            <table class="table table-striped">
                <thead>
  <tr>
    <th>Function</th>
    <th>Description</th>
  </tr>
</thead>
                <tbody><tr><td>NoteToExtended</td><td>Out : &lt;extended note&gt; dont les champs ont ete mis a jour</td></tr><tr><td>PartitionToTimedList</td><td>-----------------------------------------------------------------------------</td></tr><tr><td>Stretch</td><td>OUT: &lt;partition&gt; dont la duree a ete multipliee par Factor</td></tr><tr><td>StretchNote</td><td>OUT: &lt;extended note&gt; dont la duree a ete multipliee par Factor</td></tr><tr><td>Duration</td><td>OUT: &lt;partition&gt; dont la duree a ete modifiee</td></tr><tr><td>CounterTime</td><td></td></tr><tr><td>Drone</td><td>OUT: Liste de notes ou d'accords repetes</td></tr><tr><td>RepeatNote</td><td></td></tr><tr><td>Convert</td><td></td></tr><tr><td>Transpose</td><td>OUT: Partition transposee de quelques demi-tons</td></tr><tr><td>IndexNote</td><td>OUT: &lt;integer&gt; represantant l'indice de la note correspondante dans l'enregist</td></tr><tr><td>LookUp</td><td></td></tr><tr><td>TransposeNote</td><td>OUT: Note transposee</td></tr><tr><td>Transfo</td><td>OUT: &lt;flat partition&gt;</td></tr><tr><td>Mix</td><td>OUT: &lt;list&gt; de &lt;sample&gt;</td></tr><tr><td>Height</td><td>OUT : &lt;integer&gt; nombre de demi-tons entre cette note et A4</td></tr><tr><td>IndexNote</td><td>OUT: &lt;integer&gt; l'indice dans l'enregistrement</td></tr><tr><td>LookUp</td><td></td></tr><tr><td>NoteToSample</td><td>OUT: &lt;liste&gt; de sample compris dans l'intervalle [-1;1]</td></tr><tr><td>ToList</td><td></td></tr><tr><td>SilenceToSample</td><td>OUT: Sample compris dans l'intervalle [-1;1]</td></tr><tr><td>ToList</td><td></td></tr><tr><td>ChordToSample</td><td>OUT : &lt;sample&gt; compris dans l'intervalle [-1;1]</td></tr><tr><td>AllFrequencies</td><td>OUT: &lt;liste&gt; contenant les frequences associees aux notes de l'accord</td></tr><tr><td>NumberOfNotes</td><td>OUT: &lt;natural&gt; nombre de notes dans l'accord</td></tr><tr><td>AllSinus</td><td>OUT: liste des sinus dans la formule Ai</td></tr><tr><td>Expression</td><td>OUT: Signal emis par une note au temps i</td></tr><tr><td>Create</td><td>OUT: &lt;liste&gt;</td></tr><tr><td>PartitionToSamples</td><td>OUT : &lt;samples&gt;</td></tr><tr><td>ToSample</td><td>OUT: &lt;samples&gt;</td></tr><tr><td>MusicToSample</td><td></td></tr><tr><td>Merge</td><td>OUT: &lt;music&gt;</td></tr><tr><td>Multiplying</td><td>OUT: Liste de Sample</td></tr><tr><td>Multiply</td><td></td></tr><tr><td>Summing</td><td>IN: &lt;list&gt; sortant de Multpiplying</td></tr><tr><td>LonList</td><td>Retourne la longueur d'une liste</td></tr><tr><td>GetIndex</td><td>Fonction List.nth</td></tr><tr><td>LengthMax</td><td>OUT: &lt;integer&gt;</td></tr><tr><td>SumL</td><td></td></tr><tr><td>AddNthElem</td><td>Additione le nieme element de chaque liste dans L</td></tr><tr><td>Reverse</td><td>OUT: &lt;music&gt; dont la liste d'echantillons a ete inversee</td></tr><tr><td>DoReverse</td><td></td></tr><tr><td>Repeat</td><td>OUT : &lt;Music&gt; repetee K fois</td></tr><tr><td>RepeatSample</td><td></td></tr><tr><td>Loop</td><td>OUT: &lt;music&gt;</td></tr><tr><td>CountSample</td><td>Savoir combien d'echantillons il y a dans musique pour avoir la duree de celle</td></tr><tr><td>EndingLoop</td><td>La fonction est appelee apres avoir copie un nmbr entier de fois la musique</td></tr><tr><td>AmountOfRepeat</td><td></td></tr><tr><td>Clip</td><td>OUT: &lt;sample&gt; dont les valeurs sont comprises entre &lt;low&gt; et &lt;high&gt;</td></tr><tr><td>Echo</td><td>OUT: &lt;music&gt; avec superposition de la meme music decalee pour l'echo</td></tr><tr><td>Collage</td><td>OUT: &lt;list&gt; precedee de N* 0</td></tr><tr><td>Fade</td><td>OUT: &lt;sample&gt;</td></tr><tr><td>FactorIncreasing</td><td>OUT: &lt;list&gt; avec les facteurs croissants</td></tr><tr><td>FactorDecreasing</td><td>OUT: &lt;list&gt; avec les facteurs decroissants</td></tr><tr><td>NbrEchantillon</td><td></td></tr><tr><td>Main</td><td>OUT: sample avec les premiers echantillons d'intensites croissantes et les der</td></tr><tr><td>Cut</td><td>OUT: Sample</td></tr><tr><td>NbrSamples</td><td>Echantillon de fin</td></tr><tr><td>Main</td><td></td></tr></tbody>
            </table>
        </div>
    </section>

    <section id="function_details">
        <ul class="blockList">
  <li class="blockList">
    <ul class="blockList">
      <li class="blockList">
        <h4>NoteToExtended</h4>
        <pre style="font-style: italic;">{NoteToExtended Note}</pre>
        <pre>
          <code class="block">Out : &lt;extended note&gt; dont les champs ont ete mis a jour</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show19()">Show</button>
          <pre id="19" style="display: none;">
            <code>fun {NoteToExtended Note}
                case Note
                of Name#Octave then 
                    note(name:Name octave:Octave sharp:true duration:1.0 instrument:none)
		        [] note(name:N octave:O sharp:S duration:D instrument:I) then
		            Note
                [] silence(duration:D) then
            		  Note
                [] Atom then
                    case {AtomToString Atom}
                    of [_] then
                        note(name:Atom octave:4 sharp:false duration:1.0 instrument:none)
                    [] [N O] then
                        note(name:{StringToAtom [N]}
                             octave:{StringToInt [O]}
                             sharp:false
                             duration:1.0
            	             instrument: none) 
            	    else
            	        silence(duration:1.0)
            	    end
                end
            end</code>
          </pre>
          <script>function show19() {  var x = document.getElementById("19");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>PartitionToTimedList</h4>
        <pre style="font-style: italic;">{PartitionToTimedList Partition}</pre>
        <pre>
          <code class="block">-----------------------------------------------------------------------------</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show67()">Show</button>
          <pre id="67" style="display: none;">
            <code>fun {PartitionToTimedList Partition}
    
        local


            % 1. Stretch
            
            % Fonction etirant la duree de chaque note ou accord par le facteur indique
            % IN: &lt;float&gt; Factor , &lt;partition&gt; Partition sans transformation
            % OUT: &lt;partition&gt; dont la duree a ete multipliee par Factor
            fun {Stretch Factor Partition}
                local
                
                    % Sous-Fonction de Stretch
                    % IN: &lt;float&gt; Factor, &lt;extended note&gt; ExtNote 
                    % OUT: &lt;extended note&gt; dont la duree a ete multipliee par Factor
                    fun {StretchNote Factor ExtNote}
                        local NewNote 
                        in
                            case ExtNote 
                            of note(name:N octave:O sharp:S duration:D instrument:I) then
                    	       NewNote = note(name:N octave:O sharp:S duration:D*Factor instrument:I)
                            [] silence(duration:D) then
                    	        NewNote = silence(duration:D*Factor)
                	        else
                    	        NewNote = nil
                    	    end
                	        NewNote
                        end
                    end
                in
                
                    case Partition
                    of H|T then 
                        case H                      % H est un partition item
                        of H2|T2 then               % Cas ou la partition contient un accord
                            ({Stretch Factor H2}|{Stretch Factor T2})|{Stretch Factor T}
                        else                        % Cas ou H represente une note ou d'un silence
                            local NewNote in
                                NewNote = {NoteToExtended H}
                                {StretchNote Factor NewNote}|{Stretch Factor T}
                            end
                        end
                    else
                        if Partition==nil then
                            nil
                        else
                            local NewNote in
                                NewNote = {NoteToExtended Partition}
                                {StretchNote Factor NewNote}
                            end
                        end
                    end
                end
            end
             
    
            % 2. Duration
    
            % Fonction fixant la duree de la partition par le temps specifie
            % IN: &lt;float&gt; Seconds, &lt;partition&gt; Partition sans transformation
            % OUT: &lt;partition&gt; dont la duree a ete modifiee
            fun{Duration Seconds Partition}
               local Factor CounterTime in
                    fun{CounterTime Partition A}
                        case Partition
                        of H|T then
                            case H
                            of H2|T2 then
                               {CounterTime T A+{CounterTime H2 0.0}}
                            else
                               local NewNote in
                                    NewNote={NoteToExtended H}
                                    {CounterTime T A+NewNote.duration}
                               end
                            end
                        [] nil then
                            A
                        else % partition constituee d'une note
                            {CounterTime Partition A}
                        end
                    end
                    Factor = Seconds/{CounterTime Partition 0.0} % division flottante
                    {Stretch Factor Partition}
               end
            end
       
            %3. Drone
        
            % Fonction repetant la note ou l'accord K fois
            % IN: &lt;note&gt; ou &lt;chord&gt; X, &lt;integer&gt; K
            % OUT: Liste de notes ou d'accords repetes
            fun {Drone X K}
                local NewNote RepeatNote Convert in
                    fun{RepeatNote N K}
                        if K&gt;0 then
                            N|{RepeatNote N K-1}
                        else
                            nil
                        end
                    end
                
                    fun{Convert Chord}
                        case Chord 
                        of H|T then
                            {NoteToExtended H}| {Convert T}
                        else
                            nil
                        end
                    end
                    
                    case X 
                    of H|T then 
                        NewNote = {Convert X}
                    else
                        NewNote = {NoteToExtended X}  
                    end
                    
                    {RepeatNote NewNote K}
                end
            end
            
            %4. Transpose 
            
            % Fonction transposant la partition d'un certain nombre de demi-tons vers le haut ou  vers le bas
            % IN: &lt;integer&gt; , &lt;partition&gt; sans transformations
            % OUT: Partition transposee de quelques demi-tons
            fun {Transpose K Partition}
                local Gamme IndexNote TransposeNote in
                    Gamme = gamme(0:note(name:c sharp:false) 1:note(name:c sharp:true) 
                            2:note(name:d sharp:false) 3:note(name:d sharp:true) 
                            4:note(name:e sharp:false) 5:note(name:f sharp:false) 
                            6:note(name:f sharp:true) 7:note(name:g sharp:false) 
                            8:note(name:g sharp:true) 9:note(name:a sharp:false) 
                            10:note(name:a sharp:true) 11:note(name:b sharp:false))
        
                    % Fonction qui retourne l'indice d'une note dans l'enregistrement &lt;gamme&gt;
                    % IN: &lt;extended note&gt; Note
                    % OUT: &lt;integer&gt; represantant l'indice de la note correspondante dans l'enregistrement
                    fun{IndexNote Note}
                        case Note
                        of note(name:N octave:O sharp:S duration:D instrument:I) then 
                            local 
                                fun{LookUp R N Count}
                                    if (R.Count).name == N then 
                                        Count
                                    else
                                        {LookUp R N Count+1}
                                    end
                                end
                            in
                                {LookUp Gamme Note.name 0}
                            end
                        else 
                            ~1
                        end
                    end
		   
                    % Fonction transposant une note d'un certain nombre de demi-tons vers le haut ou ver les bas
                    % IN : &lt;integer&gt;, &lt;ExtendedNote&gt; 
                    % OUT: Note transposee
                    fun {TransposeNote K ExN}
                        local SumIndex Octaf NewIndex NewNote in
                            case ExN
                            of silence(duration:D) then
                                ExN
                            else
                                SumIndex= K+ {IndexNote ExN}
                                Octaf = SumIndex div 12 
                                % Les douzes notes existent pour chaque octave, en divisant par douze, 
                                % on determine ainsi quelle est la nouvelle octave de la nouvelle note transposee.
                                NewIndex = SumIndex mod 12 
                                % En calculant le reste de la division de &lt;SumIndex&gt; par douze, 
                                % on determine sur quelle nouvelle note nous nous retrouvons
			        NewNote = note(name:((Gamme.NewIndex).name) octave:(ExN.octave+Octaf) sharp:((Gamme.NewIndex).sharp) duration:ExN.duration
					      instrument:ExN.instrument)
                                NewNote
                            end
                        end
                    end
        
                    case Partition
                    of nil then nil
                    [] H|T then % partition formee d'une liste d'elements
                        case H
                        of H2|T2 then % Cas ou la partition contient un accord 
                            ({Transpose K H2} | {Transpose K T2})|{Transpose K T}
                        else
                            local NewNote in
                                NewNote = {NoteToExtended H} 
                                {TransposeNote K NewNote}|{Transpose K T}
                            end
                        end
                     else
                	   local NewNote in
                	      NewNote={NoteToExtended Partition}
                	      {TransposeNote K NewNote}
                	   end
                    end
                end
            end
            
            
            % TRANSFO
            % Fonction executant toutes les transformations contenues dans une partition
            % IN: &lt;partition&gt; Partition
            % OUT: &lt;flat partition&gt; 
            fun {Transfo Partition}
                case Partition 
                of H|T then 
                    case H 
                    of duration(seconds:S 1:Part2) then 
                        {Duration S  {Transfo Part2}} | {Transfo T}
                    [] stretch(factor:F 1:Part2) then
                        {Stretch F {Transfo Part2}} | {Transfo T}
                    [] drone(note:N amount:A) then
                        {Drone N A} | {Transfo T}
                    [] transpose(semitones:S 1:Part2) then
                        {Transpose S {Transfo Part2}} | {Transfo T}
                    [] H2|T2 then 
                        ({NoteToExtended H2} | {Transfo T2}) | {Transfo T}
        		    else
        		       {NoteToExtended H}|{Transfo T}
                    end
                else
                    nil
                end
            end

	    
	       
        in
        
            local MaPartition in
            
	       MaPartition = {Transfo Partition} % Execute toutes les transformations de la partition introduite
	                                         % comme argument de la fonction &lt;PartitionToTimedList&gt;
               MaPartition
            end
            
	end
	   
    end</code>
          </pre>
          <script>function show67() {  var x = document.getElementById("67");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Stretch</h4>
        <pre style="font-style: italic;">{Stretch Factor Partition}</pre>
        <pre>
          <code class="block">OUT: &lt;partition&gt; dont la duree a ete multipliee par Factor</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show76()">Show</button>
          <pre id="76" style="display: none;">
            <code>fun {Stretch Factor Partition}
                local
                
                    % Sous-Fonction de Stretch
                    % IN: &lt;float&gt; Factor, &lt;extended note&gt; ExtNote 
                    % OUT: &lt;extended note&gt; dont la duree a ete multipliee par Factor
                    fun {StretchNote Factor ExtNote}
                        local NewNote 
                        in
                            case ExtNote 
                            of note(name:N octave:O sharp:S duration:D instrument:I) then
                    	       NewNote = note(name:N octave:O sharp:S duration:D*Factor instrument:I)
                            [] silence(duration:D) then
                    	        NewNote = silence(duration:D*Factor)
                	        else
                    	        NewNote = nil
                    	    end
                	        NewNote
                        end
                    end
                in
                
                    case Partition
                    of H|T then 
                        case H                      % H est un partition item
                        of H2|T2 then               % Cas ou la partition contient un accord
                            ({Stretch Factor H2}|{Stretch Factor T2})|{Stretch Factor T}
                        else                        % Cas ou H represente une note ou d'un silence
                            local NewNote in
                                NewNote = {NoteToExtended H}
                                {StretchNote Factor NewNote}|{Stretch Factor T}
                            end
                        end
                    else
                        if Partition==nil then
                            nil
                        else
                            local NewNote in
                                NewNote = {NoteToExtended Partition}
                                {StretchNote Factor NewNote}
                            end
                        end
                    end
                end
            end</code>
          </pre>
          <script>function show76() {  var x = document.getElementById("76");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>StretchNote</h4>
        <pre style="font-style: italic;">{StretchNote Factor ExtNote}</pre>
        <pre>
          <code class="block">OUT: &lt;extended note&gt; dont la duree a ete multipliee par Factor</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show85()">Show</button>
          <pre id="85" style="display: none;">
            <code>fun {StretchNote Factor ExtNote}
                        local NewNote 
                        in
                            case ExtNote 
                            of note(name:N octave:O sharp:S duration:D instrument:I) then
                    	       NewNote = note(name:N octave:O sharp:S duration:D*Factor instrument:I)
                            [] silence(duration:D) then
                    	        NewNote = silence(duration:D*Factor)
                	        else
                    	        NewNote = nil
                    	    end
                	        NewNote
                        end
                    end</code>
          </pre>
          <script>function show85() {  var x = document.getElementById("85");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Duration</h4>
        <pre style="font-style: italic;">{Duration Seconds Partition}</pre>
        <pre>
          <code class="block">OUT: &lt;partition&gt; dont la duree a ete modifiee</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show182()">Show</button>
          <pre id="182" style="display: none;">
            <code>fun{Duration Seconds Partition}
               local Factor CounterTime in
                    fun{CounterTime Partition A}
                        case Partition
                        of H|T then
                            case H
                            of H2|T2 then
                               {CounterTime T A+{CounterTime H2 0.0}}
                            else
                               local NewNote in
                                    NewNote={NoteToExtended H}
                                    {CounterTime T A+NewNote.duration}
                               end
                            end
                        [] nil then
                            A
                        else % partition constituee d'une note
                            {CounterTime Partition A}
                        end
                    end
                    Factor = Seconds/{CounterTime Partition 0.0} % division flottante
                    {Stretch Factor Partition}
               end
            end</code>
          </pre>
          <script>function show182() {  var x = document.getElementById("182");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>CounterTime</h4>
        <pre style="font-style: italic;">{CounterTime Partition A}</pre>
        <pre>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show191()">Show</button>
          <pre id="191" style="display: none;">
            <code>fun{CounterTime Partition A}
                        case Partition
                        of H|T then
                            case H
                            of H2|T2 then
                               {CounterTime T A+{CounterTime H2 0.0}}
                            else
                               local NewNote in
                                    NewNote={NoteToExtended H}
                                    {CounterTime T A+NewNote.duration}
                               end
                            end
                        [] nil then
                            A
                        else % partition constituee d'une note
                            {CounterTime Partition A}
                        end
                    end</code>
          </pre>
          <script>function show191() {  var x = document.getElementById("191");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Drone</h4>
        <pre style="font-style: italic;">{Drone X K}</pre>
        <pre>
          <code class="block">OUT: Liste de notes ou d'accords repetes</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show251()">Show</button>
          <pre id="251" style="display: none;">
            <code>fun {Drone X K}
                local NewNote RepeatNote Convert in
                    fun{RepeatNote N K}
                        if K&gt;0 then
                            N|{RepeatNote N K-1}
                        else
                            nil
                        end
                    end
                
                    fun{Convert Chord}
                        case Chord 
                        of H|T then
                            {NoteToExtended H}| {Convert T}
                        else
                            nil
                        end
                    end
                    
                    case X 
                    of H|T then 
                        NewNote = {Convert X}
                    else
                        NewNote = {NoteToExtended X}  
                    end
                    
                    {RepeatNote NewNote K}
                end
            end</code>
          </pre>
          <script>function show251() {  var x = document.getElementById("251");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>RepeatNote</h4>
        <pre style="font-style: italic;">{RepeatNote N K}</pre>
        <pre>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show261()">Show</button>
          <pre id="261" style="display: none;">
            <code>fun{RepeatNote N K}
                        if K&gt;0 then
                            N|{RepeatNote N K-1}
                        else
                            nil
                        end
                    end</code>
          </pre>
          <script>function show261() {  var x = document.getElementById("261");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Convert</h4>
        <pre style="font-style: italic;">{Convert Chord}</pre>
        <pre>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show275()">Show</button>
          <pre id="275" style="display: none;">
            <code>fun{Convert Chord}
                        case Chord 
                        of H|T then
                            {NoteToExtended H}| {Convert T}
                        else
                            nil
                        end
                    end</code>
          </pre>
          <script>function show275() {  var x = document.getElementById("275");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Transpose</h4>
        <pre style="font-style: italic;">{Transpose K Partition}</pre>
        <pre>
          <code class="block">OUT: Partition transposee de quelques demi-tons</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show315()">Show</button>
          <pre id="315" style="display: none;">
            <code>fun {Transpose K Partition}
                local Gamme IndexNote TransposeNote in
                    Gamme = gamme(0:note(name:c sharp:false) 1:note(name:c sharp:true) 
                            2:note(name:d sharp:false) 3:note(name:d sharp:true) 
                            4:note(name:e sharp:false) 5:note(name:f sharp:false) 
                            6:note(name:f sharp:true) 7:note(name:g sharp:false) 
                            8:note(name:g sharp:true) 9:note(name:a sharp:false) 
                            10:note(name:a sharp:true) 11:note(name:b sharp:false))
        
                    % Fonction qui retourne l'indice d'une note dans l'enregistrement &lt;gamme&gt;
                    % IN: &lt;extended note&gt; Note
                    % OUT: &lt;integer&gt; represantant l'indice de la note correspondante dans l'enregistrement
                    fun{IndexNote Note}
                        case Note
                        of note(name:N octave:O sharp:S duration:D instrument:I) then 
                            local 
                                fun{LookUp R N Count}
                                    if (R.Count).name == N then 
                                        Count
                                    else
                                        {LookUp R N Count+1}
                                    end
                                end
                            in
                                {LookUp Gamme Note.name 0}
                            end
                        else 
                            ~1
                        end
                    end
		   
                    % Fonction transposant une note d'un certain nombre de demi-tons vers le haut ou ver les bas
                    % IN : &lt;integer&gt;, &lt;ExtendedNote&gt; 
                    % OUT: Note transposee
                    fun {TransposeNote K ExN}
                        local SumIndex Octaf NewIndex NewNote in
                            case ExN
                            of silence(duration:D) then
                                ExN
                            else
                                SumIndex= K+ {IndexNote ExN}
                                Octaf = SumIndex div 12 
                                % Les douzes notes existent pour chaque octave, en divisant par douze, 
                                % on determine ainsi quelle est la nouvelle octave de la nouvelle note transposee.
                                NewIndex = SumIndex mod 12 
                                % En calculant le reste de la division de &lt;SumIndex&gt; par douze, 
                                % on determine sur quelle nouvelle note nous nous retrouvons
			        NewNote = note(name:((Gamme.NewIndex).name) octave:(ExN.octave+Octaf) sharp:((Gamme.NewIndex).sharp) duration:ExN.duration
					      instrument:ExN.instrument)
                                NewNote
                            end
                        end
                    end
        
                    case Partition
                    of nil then nil
                    [] H|T then % partition formee d'une liste d'elements
                        case H
                        of H2|T2 then % Cas ou la partition contient un accord 
                            ({Transpose K H2} | {Transpose K T2})|{Transpose K T}
                        else
                            local NewNote in
                                NewNote = {NoteToExtended H} 
                                {TransposeNote K NewNote}|{Transpose K T}
                            end
                        end
                     else
                	   local NewNote in
                	      NewNote={NoteToExtended Partition}
                	      {TransposeNote K NewNote}
                	   end
                    end
                end
            end</code>
          </pre>
          <script>function show315() {  var x = document.getElementById("315");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>IndexNote</h4>
        <pre style="font-style: italic;">{IndexNote Note}</pre>
        <pre>
          <code class="block">OUT: &lt;integer&gt; represantant l'indice de la note correspondante dans l'enregistrement</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show329()">Show</button>
          <pre id="329" style="display: none;">
            <code>fun{IndexNote Note}
                        case Note
                        of note(name:N octave:O sharp:S duration:D instrument:I) then 
                            local 
                                fun{LookUp R N Count}
                                    if (R.Count).name == N then 
                                        Count
                                    else
                                        {LookUp R N Count+1}
                                    end
                                end
                            in
                                {LookUp Gamme Note.name 0}
                            end
                        else 
                            ~1
                        end
                    end</code>
          </pre>
          <script>function show329() {  var x = document.getElementById("329");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>LookUp</h4>
        <pre style="font-style: italic;">{LookUp R N Count}</pre>
        <pre>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show343()">Show</button>
          <pre id="343" style="display: none;">
            <code>fun{LookUp R N Count}
                                    if (R.Count).name == N then 
                                        Count
                                    else
                                        {LookUp R N Count+1}
                                    end
                                end</code>
          </pre>
          <script>function show343() {  var x = document.getElementById("343");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>TransposeNote</h4>
        <pre style="font-style: italic;">{TransposeNote K ExN}</pre>
        <pre>
          <code class="block">OUT: Note transposee</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show370()">Show</button>
          <pre id="370" style="display: none;">
            <code>fun {TransposeNote K ExN}
                        local SumIndex Octaf NewIndex NewNote in
                            case ExN
                            of silence(duration:D) then
                                ExN
                            else
                                SumIndex= K+ {IndexNote ExN}
                                Octaf = SumIndex div 12 
                                % Les douzes notes existent pour chaque octave, en divisant par douze, 
                                % on determine ainsi quelle est la nouvelle octave de la nouvelle note transposee.
                                NewIndex = SumIndex mod 12 
                                % En calculant le reste de la division de &lt;SumIndex&gt; par douze, 
                                % on determine sur quelle nouvelle note nous nous retrouvons
			        NewNote = note(name:((Gamme.NewIndex).name) octave:(ExN.octave+Octaf) sharp:((Gamme.NewIndex).sharp) duration:ExN.duration
					      instrument:ExN.instrument)
                                NewNote
                            end
                        end
                    end</code>
          </pre>
          <script>function show370() {  var x = document.getElementById("370");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Transfo</h4>
        <pre style="font-style: italic;">{Transfo Partition}</pre>
        <pre>
          <code class="block">OUT: &lt;flat partition&gt; </code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show471()">Show</button>
          <pre id="471" style="display: none;">
            <code>fun {Transfo Partition}
                case Partition 
                of H|T then 
                    case H 
                    of duration(seconds:S 1:Part2) then 
                        {Duration S  {Transfo Part2}} | {Transfo T}
                    [] stretch(factor:F 1:Part2) then
                        {Stretch F {Transfo Part2}} | {Transfo T}
                    [] drone(note:N amount:A) then
                        {Drone N A} | {Transfo T}
                    [] transpose(semitones:S 1:Part2) then
                        {Transpose S {Transfo Part2}} | {Transfo T}
                    [] H2|T2 then 
                        ({NoteToExtended H2} | {Transfo T2}) | {Transfo T}
        		    else
        		       {NoteToExtended H}|{Transfo T}
                    end
                else
                    nil
                end
            end</code>
          </pre>
          <script>function show471() {  var x = document.getElementById("471");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Mix</h4>
        <pre style="font-style: italic;">{Mix P2T Music}</pre>
        <pre>
          <code class="block">OUT: &lt;list&gt; de &lt;sample&gt; </code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show571()">Show</button>
          <pre id="571" style="display: none;">
            <code>fun {Mix P2T Music}
        local 
        
            % Fonction calculant la hauteur d'une note
            % IN : &lt;extendedNote&gt; 
            % OUT : &lt;integer&gt; nombre de demi-tons entre cette note et A4 
            fun{Height Note}
                local Gamme IndexNote IndexRef OctaveRef Index Octave NbreOctave Hauteur in
                   Gamme = gamme( 0:note(name:a sharp:false) 1:note(name:a sharp:true) 2:note(name:b sharp:false)
                                  3:note(name:c sharp:false) 4:note(name:c sharp:true) 5:note(name:d sharp:false)
                    		      6:note(name:d sharp:true) 7:note(name:e sharp:false) 8:note(name:f sharp:false)
                    		      9:note(name:f sharp:true) 10:note(name:g sharp:false) 11:note(name:g sharp:true) )
                    		     
                    %Fonction qui retourne l'indice d'une note dans le record gamme
                    % IN: &lt;extended note&gt;
                    % OUT: &lt;integer&gt; l'indice dans l'enregistrement
                    fun{IndexNote ExN}
                        case ExN
                        of note(name:N octave:O sharp:S duration:D instrument:I) then 
                            local 
                                fun{LookUp R N Count}
                                    if (R.Count).name == N then 
                                        Count
                                    else
                                        {LookUp R N Count+1}
                                    end
                                end
                            in
                                {LookUp Gamme ExN.name 0}
                            end
                        else 
                            ~1
                        end
                    end   
                   
                    IndexRef = 0                % Correspondant au A4 
                	OctaveRef = 4
                	Index = {IndexNote Note}
                	Octave = Note.octave	
                	NbreOctave = Octave - OctaveRef
                    Hauteur = NbreOctave *12  + Index
                    Hauteur
                end
            end
            
            
            % Fonction transformant une note en un echantillon code a 44100[Hz]
            % IN: &lt;exentedNote&gt;
            % OUT: &lt;liste&gt; de sample compris dans l'intervalle [-1;1]
            fun{NoteToSample Note}
                local
                    Pi = 3.14159265359
                    Hauteur = {Int.toFloat {Height Note}}
                    Frequence = {Number.pow 2.0 Hauteur/12.0} * 440.0
                    Duree =  Note.duration
                    NbreEchantillons =  Duree * 44100.0 + 1.0                       
                    
                    fun{ToList A}
                            if  A &lt; NbreEchantillons then 
            		            (1.0/2.0) * {Float.sin (2.0*Pi*Frequence* A)/44100.0} | {ToList A+1.0}
                            else
                                nil
                            end
            	    end
                in
                   {ToList 1.0}
                end
            end
            
            % Fonction transformant un silence en un echantillon code a 44100[Hz]
            % IN: &lt;silence&gt; ou  &lt;extended silence&gt;
            % OUT: Sample compris dans l'intervalle [-1;1]
            fun{SilenceToSample S}
                local Duree in
                    case S
                    of silence(duration:D) then
                        Duree = D
                    else
                        Duree = 1.0
                    end
                    
                    local
                        NbreEchantillons =  Duree * 44100.0 + 1.0
                        fun{ToList A}
                                if  A &lt; NbreEchantillons then 
                		            0.0 | {ToList A+1.0}
                                else
                                    nil
                                end
                	    end
                    in
                       {ToList 1.0}
                    end
                end
            end
            
            % Fonction transformant un accord en un sample en faisant la moyenne des signaux des notes
            %       jouees simultanement
            % IN : &lt;extended chord&gt;
            % OUT : &lt;sample&gt; compris dans l'intervalle [-1;1]
            fun {ChordToSample Accord}
                
                local Pi AllFrequencies NumberOfNotes AllSinus in
                
                    Pi = 3.14159265359
                    
                    % Fonction enregistrant dans une liste 
                    %   chaque frequence associees aux notes de l'accord
                    % IN : &lt;extended chord&gt;
                    % OUT: &lt;liste&gt; contenant les frequences associees aux notes de l'accord
                    fun{AllFrequencies Accord}
                        case Accord
                        of H|T then
                            {Number.pow 2.0 {Int.toFloat {Height H}}/12.0} * 440.0 | {AllFrequencies T}
                        else
                            nil
                        end
                    end
                    
                    % Fonction calculant le nombre de notes dans un accord
                    % IN: &lt;chord&gt; 
                    % OUT: &lt;natural&gt; nombre de notes dans l'accord
                    fun{NumberOfNotes Accord Acc}
                        case Accord
                        of H|T then 
                            {NumberOfNotes T Acc+1}
                        else
                            Acc
                        end
                    end
                
                
                    % Fonction creant une liste avec tous les sinus des differentes notes de l'accord
                    % IN: &lt;list&gt; des frequences des notes 
                    % OUT: liste des sinus dans la formule Ai 
                    fun {AllSinus Liste}
                        local NbreNotes Duree NbreEchantillons Expression Create
                        in
                            NbreNotes = {NumberOfNotes Liste 0}
                            Duree = (Accord.1).duration
                            NbreEchantillons = Duree *  44100.0 
                            
                            % Fonction calculant le signal emis par une note en particulier a un temps I
                            % IN: &lt;natual&gt; I 
                            % OUT: Signal emis par une note au temps i
                            fun{Expression I Liste}
                                case Liste
                                of H|T then
                                    (1.0/2.0) * {Float.sin (2.0*Pi*H*I)/44100.0} + {Expression I T} 
                                else
                                    0.0
                                end
                            end
                            
                            % Fonction qui repete la formule a tous les i 
                            % IN: &lt;integer&gt; accumulateur 
                            % OUT: &lt;liste&gt;
                            fun{Create Acc}
                                if Acc&lt;NbreEchantillons then
                                    ({Expression Acc Liste}/{Int.toFloat NbreNotes}) | {Create Acc+1.0}
                                else 
                                    nil
                                end
                            end    
                            {Create 0.0}
                        end
                    end
                    {AllSinus {AllFrequencies Accord}}
                end       
            end
                
                
                
            % Fonction convertissant une partition en une liste d'echantillons
            % IN : &lt;flat partition&gt;
            % OUT : &lt;samples&gt;
            fun{PartitionToSamples Partition}
                case Partition
                of H|T then
                    case H
                    of note(name:N octave:O sharp:S duration:D instrument:I) then
                        {Append {NoteToSample H} {PartitionToSamples T}}
                    [] H2 | T2 then %cas ou il s'agit d'un accord
                        {Append {ChordToSample H} {PartitionToSamples T}}
                    [] silence(duration:D) then % cas ou il s'agit d'un silence
                        {Append {SilenceToSample H} {PartitionToSamples T}}
                    [] silence then
                        {Append {SilenceToSample H} {PartitionToSamples T}}
                    else
                        nil
                    end
                else
                    nil
                end
            end
            
            % Fonction transformant une &lt;part&gt; en &lt;sample&gt;
            % IN: &lt;part&gt;
            % OUT: &lt;samples&gt;
            fun{ToSample Part}
                case Part 
                of samples(1:S) then
                    S
                [] partition(1:P) then
                    {PartitionToSamples {P2T P}} 
                [] wave(1:FileName) then
                    {Project.readFile FileName}
                [] merge(1:MusicWithIntensities) then
                    {Merge MusicWithIntensities}
                    
                else %si c'est un filtre
                    case Part 
                    of reverse(1:Music) then
                        {Reverse {MusicToSample Music}}
                    [] repeat(amount:K 1:Music) then
                        {Repeat K {MusicToSample Music}}
                    [] loop(seconds:S 1:Music) then
                        {Loop S {MusicToSample Music}}
                    [] clip(low:S high:J 1:Music) then
                        {Clip S J {MusicToSample Music}}
                    [] echo(delay:D decay:Factor 1:Music) then
                        {Echo D Factor {MusicToSample Music}}
                    [] fade(start:S out:D 1:Music) then
                        {Fade S D {MusicToSample Music}}
                    [] cut(start:D finish:F 1:Music) then
                        {Cut D F {MusicToSample Music}}
                    else
                        nil
                    end
                end
            end
            
            
            fun{MusicToSample Music}
                case Music
                of H|T then
                    {Append {ToSample H} {MusicToSample T}}
                else
                    nil
                end
            end
            
            % Merge 
            
            % Fonction supersosant plusieurs musiques
            % IN: &lt;music with intensities&gt;
            % OUT: &lt;music&gt;
            fun{Merge MusicWI}
                
                local 
                    
                    % Fonction multipliant toutes les samples d'une musique par son facteur associe 
                    % IN: &lt;Music with intensities&gt;
                    % OUT: Liste de Sample
                    fun{Multiplying M}
                        case M
                        of H|T then     %pattern matching de la music with intenities 
                            case H      % H est une music
                            of Factor#Music then
                                local SampleListe in
                                    SampleListe = {MusicToSample Music} 
                                    local
                                        fun{Multiply Fact List}
                                            case List 
                                            of H2|T2 then
                                                H2*Fact|{Multiply Fact T2}
                                            else
                                                nil
                                            end
                                        end
                                    in
                                        {Multiply Factor SampleListe}|{Multiplying T}
                                    end
                                end
                            else
                                nil
                            end 
                        else
                            nil
                        end
                    end
                    
            % A ce stade, la music a ete convertie en sample dont les valeurs ont ete multipliees par les facteurs associes
            
                    
                    %IN: &lt;list&gt; sortant de Multpiplying 
                    fun{Summing ListOfL}
                        local LengthMax LMax LonList SumL IndexL GetIndex in
                            %Retourne la longueur d'une liste
                            fun{LonList L A}
                                case L
                                of H|T then
                                    {LonList T A+1}
                                else
                                    A
                                end
                            end
                            
                            % Fonction List.nth 
                            fun{GetIndex L N}
                                case L
                                of H|T then
                                    if N&gt;1 then 
                                        {GetIndex T N-1}
                                    else
                                        H
                                    end
                                else
                                    nil
                                end
                            end
                            
                            % Fonction qui retourne l'index de la liste la plus longue de la liste en argument
                            % IN: &lt;list&gt;, longueur, index, accumulateurdont chaque element est une liste
                            % OUT: &lt;integer&gt; 
                            fun{LengthMax Liste Long Index Acc}
                                case Liste
                                of H|T then % Liste est une liste de liste donc H est a nouveau une liste
                                    local Longueur in
                                        Longueur = {LonList H 0}
                                        if (Longueur &gt; Long) then
                                            {LengthMax T Longueur Acc Acc+1}
                                        else
                                            {LengthMax T Long Index Acc+1}
                                        end
                                    end
                                else
                                    Long
                                end
                            end
                            LMax = {LengthMax ListOfL 1 1 1}
                            fun{SumL List Acc}
                                if Acc =&lt; LMax then
                                    local 
                                        % Additione le nieme element de chaque liste dans L
                                        fun{AddNthElem L N A}
                                            case L
                                            of H|T then
                                                if {LonList H 0} &lt; N then
                                                    {AddNthElem T N A} %Si la liste est plus courte on comble avec des silences
                                                else
                                                    {AddNthElem T N A+{GetIndex H N}}
                                                end
                                            else
                                                A
                                            end
                                        end
                                    in 
                                        {AddNthElem List Acc 0.0}|{SumL List Acc+1}
                                    end
                                else
                                    nil
                                end
                            end
                            {SumL ListOfL 1}
                        end
                    end
                in
                    {Summing {Multiplying MusicWI}}
                end
            end
                        

            
        % Tous les &lt;filter&gt;
        
        %1. Reverse
            % Inverse la liste d'echantillons
            % IN: &lt;music&gt;
            % OUT: &lt;music&gt; dont la liste d'echantillons a ete inversee
            fun{Reverse Music}
                local
                    fun {DoReverse Xs Ys}
                        case Xs
                        of X|Xr then
                            {DoReverse Xr X|Ys}
                        else
                            Ys
                        end
                    end
                in
                    {DoReverse Music nil}
                end
            end
            
            % 2. Repeat
            % Fonction repetant une musique un certain nombre de fois
            % IN : &lt;natural&gt; K , Music
            % OUT : &lt;Music&gt; repetee K fois
            fun {Repeat K Music}
                local
                    fun{RepeatSample N K2}
                        if K2&gt;0 then
                            {Append N {RepeatSample N K2-1}}
                        else
                            nil
                        end
                    end
                in
                    case Music 
                    of H|T then
            	        {RepeatSample Music K}
                    else
                        nil
                    end
                end
            end
            
            % 3. Loop : Joue la musique en boucle durant une certaine duree.
            % IN: &lt;duration&gt;, &lt;music&gt;
            % OUT: &lt;music&gt;
            fun{Loop Time Music}
                local 
                    % Savoir combien d'echantillons il y a dans musique pour avoir la duree de celle ci
                    fun{CountSample Music A}
                        case Music
                        of H|T then
                            {CountSample T A+1.0}
                        else
                            A
                        end
            	    end
            	                       
            	    % La fonction est appelee apres avoir copie un nmbr entier de fois la musique
                	fun{EndingLoop Music Tref}
                        if Tref &gt; 0.0 andthen Music \= nil then
                            Music.1|{EndingLoop Music.2 (Tref-1.0)}
                        else
                            nil
                        end
                	end
                	
                	fun{AmountOfRepeat N T Acc}
                        if (T-N)&gt;0.0 then
                            {AmountOfRepeat N T-N Acc+1.0}
                        else
                            Acc
                        end
                	end
                in
                    local NbrEchant Amount Tref in
                    
                        NbrEchant = {CountSample Music 0.0}
                        Amount = {AmountOfRepeat NbrEchant Time*44100.0 0.0}
                        
                        Tref = Time*44100.0 - NbrEchant*Amount
                        {Append {Repeat {Float.toInt Amount} Music} {EndingLoop Music Tref}}
                        
                    end
                end
            end


        
            % 4. Clip
            % Fonction bornes les samples et remplace les depassants par la borne
            % IN: &lt;foat&gt; low entre -1 et 1, &lt;float&gt; high entre -1 et 1, &lt;Sample&gt;
            % OUT: &lt;sample&gt; dont les valeurs sont comprises entre &lt;low&gt; et &lt;high&gt;
            fun{Clip Low High Sample}
                case Sample
                of H|T then
                    if H &gt; High orelse H &lt; Low then
                        if H &gt; High then
                            High|{Clip Low High T}
                        else
                            Low|{Clip Low High T}
                        end
                    end
                else 
                    nil
                end
            end

            % 5. Echo
            % Fonction superposant deux listes identiques mais decalees dans le temps de delay multipliee d'un facteur decay
            % IN: &lt;duration&gt;, &lt;factor&gt;, &lt;music&gt;
            % OUT: &lt;music&gt; avec superposition de la meme music decalee pour l'echo
            fun{Echo Delay Decay Music}
                local MusicDecalee NbrEchantillonsRetard Collage MusicWithIntensities DelayList in
                    NbrEchantillonsRetard = Delay * 44100.0
                    
                    % Fonction qui ajoute N 0 devant la liste = Colle les zeros avant la musique
                    % IN: &lt;list&gt; liste a laquelle on souhaite ajouter des zeros devant, &lt;float&gt; N nombre de zeros a ajouter
                    % OUT: &lt;list&gt; precedee de N* 0
                    fun{Collage L N}
                        if N&gt;0.0 then
                            0.0|{Collage L N-1.0}
                        else
                            L
                        end
                    end
                    
                    DelayList = {Collage Music NbrEchantillonsRetard}
                    MusicWithIntensities= 1.0#Music | Decay#DelayList | nil
                    
                    {Merge MusicWithIntensities}
                end
            end
            
        
        
% 6. Fade
            % Fonction adoussisant les transitions 
            % IN: &lt;integer&gt; nombre de secondes , &lt;integer&gt; nombre de secondes, &lt;sample&gt;
            % OUT: &lt;sample&gt; 
            fun{Fade Start Stop Sample}
            
                local NbreDebut PasDebut FactorIncreasing Augmentation NbreFin PasFin FactorDecreasing Diminution NbrEchantillon PremierAModifier Main in
                    NbreDebut = Start * 44100.0 % Nombre d'echantillons a modifier pour le debut
                    PasDebut = 1.0/NbreDebut                   % Calcul du pas
                    
                    % Fonction renvoyant une liste avec les facteurs d'intensites croissants
                    % IN: &lt;Integer&gt; Acc = 0.0
                    % OUT: &lt;list&gt; avec les facteurs croissants
                    fun{FactorIncreasing Acc}
                        if (Acc =&lt; 1.0) then
                            Acc|{FactorIncreasing Acc+PasDebut}
                        else
                            nil
                        end
                    end
                    
                    Augmentation = {FactorIncreasing 0.0}
                    
                    NbreFin = Stop * 44100.0 % Nombre d'echantillon a modifier pour la fin
                    PasFin = 1.0/NbreFin                     % Calcul du pas
                    
                    % Fonction renvoyant une liste avec les facteurs d'intensites decroissants
                    % IN: &lt;Integer&gt; Acc = 1.0
                    % OUT: &lt;list&gt; avec les facteurs decroissants
                    fun{FactorDecreasing Acc}
                        if Acc &gt;= 0.0 then
                            Acc|{FactorDecreasing Acc-PasFin}
                        else
                            nil
                        end
                    end
                    
                    Diminution = {FactorDecreasing 1.0}
                    
                    fun{NbrEchantillon Sample Acc}
                        case Sample 
                        of H|T then
                            {NbrEchantillon T Acc+1.0}
                        else
                            Acc
                        end
                    end
                    
                    PremierAModifier = {NbrEchantillon Sample 0.0} - NbreFin -1.0
                    
                    % Sous-fonction principale 
                    % - augmentant lineairement l'intervalle d'echantillon [0;Start] 
                    % - laissant intacte la partie centrale
                    % - diminuant lineairement l'intervalle d'echantillon [PremierAModifier; NbreEchantillons] 
                    % IN: &lt;Increasing&gt; = liste croissants des facteurs, &lt;sample&gt; = Sample original, &lt;Decreasing&gt; = liste decroissante des facteurs 
                    % OUT: sample avec les premiers echantillons d'intensites croissantes et les derniers d'intensites decroissantes
                    
                    fun {Main Increasing Sample Decreasing Acc}
                        case Sample
                        of H|T then %patern maching sur Liste
                            case Increasing     %patern maching sur Increasing
                            of H1|T1 then
                                H*H1| {Main T1 T Decreasing Acc+1.0}
                            else                % cas ou tous la liste des intensites croissante est entierement parcourue
                                if Acc &lt; PremierAModifier then              % partie de la liste a laisser intacte
                                    H|{Main Increasing T Decreasing Acc+1.0}
                                else
                                    case Decreasing 
                                    of H2|T2 then
                                        H2*H|{Main Increasing T T2 Acc+1.0} %NB: changer l'accumulateur ici n'apporte rien mais pour la coherence il a tout de meme ete incremente
                                    else
                                        nil
                                    end
                                end
                            end
                        else
                            nil
                        end
                    end
                    {Main Augmentation Sample Diminution 0.0}
                end
            end


%7.     
            % Fonction selectionnant une partie de la musique situee entre Start et Stop
            % IN: Start Finish Music
            % OUT: Sample
            fun{Cut Start Finish Music}
            
                local Sample TropCourt NbreSilenceAAjouter DureeTotale EchantillonDepart EchantillonFin NbrSamples NbrSamples NbreEchantillons Main in
                    Sample = {MusicToSample Music}
                    
                    EchantillonDepart = Start * 44100.0        % Echantillon de depart
                    EchantillonFin = Finish * 44100.0          % Echantillon de fin
                    
                    fun{NbrSamples Sample Acc}
                        case Sample 
                        of H|T then
                            {NbrSamples T Acc+1.0}
                        else
                            Acc
                        end
                    end
                    NbreEchantillons = {NbrSamples Sample 0.0}
                    
                    DureeTotale = NbreEchantillons * 44100.0
                    
                    if EchantillonFin &gt; NbreEchantillons then % cas ou l'intervalle depasse la taille de la musique
                        TropCourt = true                % La musique est en effet trop courte et doit etre completees par des silences
                    else
                        TropCourt = false
                    end
                
                    fun{Main Sample Acc AccSilence}
                        case Sample
                        of H|T then
                            if Acc &lt; EchantillonDepart then       % Cas ou il ne faut pas recuperer la fonction
                                {Main T Acc+1 AccSilence}
                            elseif TropCourt == false andthen Acc &gt;= EchantillonDepart andthen Acc =&lt; EchantillonFin then % Cas ou il faut copier les valeur
                                H|{Main T Acc+1 AccSilence} 
                            else 
                                nil
                            end
                            
                        else % cas ou on est arrive au bout de tous les echantillons
                            
                            NbreSilenceAAjouter = DureeTotale * 44100.0 - Acc
                            if AccSilence &lt; NbreSilenceAAjouter then  % cas ou on est arrive a la fin du Sample et ou il faut ajouter des silences
                                0.0|{Main Sample Acc AccSilence+1.0}
                            else
                                nil 
                            end
                        end
                    end
                    {Main Sample 0.0 0.0}
                end
            end
            
        in
            {MusicToSample Music}
        end
    end</code>
          </pre>
          <script>function show571() {  var x = document.getElementById("571");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Height</h4>
        <pre style="font-style: italic;">{Height Note}</pre>
        <pre>
          <code class="block">OUT : &lt;integer&gt; nombre de demi-tons entre cette note et A4 </code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show580()">Show</button>
          <pre id="580" style="display: none;">
            <code>fun{Height Note}
                local Gamme IndexNote IndexRef OctaveRef Index Octave NbreOctave Hauteur in
                   Gamme = gamme( 0:note(name:a sharp:false) 1:note(name:a sharp:true) 2:note(name:b sharp:false)
                                  3:note(name:c sharp:false) 4:note(name:c sharp:true) 5:note(name:d sharp:false)
                    		      6:note(name:d sharp:true) 7:note(name:e sharp:false) 8:note(name:f sharp:false)
                    		      9:note(name:f sharp:true) 10:note(name:g sharp:false) 11:note(name:g sharp:true) )
                    		     
                    %Fonction qui retourne l'indice d'une note dans le record gamme
                    % IN: &lt;extended note&gt;
                    % OUT: &lt;integer&gt; l'indice dans l'enregistrement
                    fun{IndexNote ExN}
                        case ExN
                        of note(name:N octave:O sharp:S duration:D instrument:I) then 
                            local 
                                fun{LookUp R N Count}
                                    if (R.Count).name == N then 
                                        Count
                                    else
                                        {LookUp R N Count+1}
                                    end
                                end
                            in
                                {LookUp Gamme ExN.name 0}
                            end
                        else 
                            ~1
                        end
                    end   
                   
                    IndexRef = 0                % Correspondant au A4 
                	OctaveRef = 4
                	Index = {IndexNote Note}
                	Octave = Note.octave	
                	NbreOctave = Octave - OctaveRef
                    Hauteur = NbreOctave *12  + Index
                    Hauteur
                end
            end</code>
          </pre>
          <script>function show580() {  var x = document.getElementById("580");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>IndexNote</h4>
        <pre style="font-style: italic;">{IndexNote ExN}</pre>
        <pre>
          <code class="block">OUT: &lt;integer&gt; l'indice dans l'enregistrement</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show598()">Show</button>
          <pre id="598" style="display: none;">
            <code>fun{IndexNote ExN}
                        case ExN
                        of note(name:N octave:O sharp:S duration:D instrument:I) then 
                            local 
                                fun{LookUp R N Count}
                                    if (R.Count).name == N then 
                                        Count
                                    else
                                        {LookUp R N Count+1}
                                    end
                                end
                            in
                                {LookUp Gamme ExN.name 0}
                            end
                        else 
                            ~1
                        end
                    end</code>
          </pre>
          <script>function show598() {  var x = document.getElementById("598");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>LookUp</h4>
        <pre style="font-style: italic;">{LookUp R N Count}</pre>
        <pre>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show612()">Show</button>
          <pre id="612" style="display: none;">
            <code>fun{LookUp R N Count}
                                    if (R.Count).name == N then 
                                        Count
                                    else
                                        {LookUp R N Count+1}
                                    end
                                end</code>
          </pre>
          <script>function show612() {  var x = document.getElementById("612");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>NoteToSample</h4>
        <pre style="font-style: italic;">{NoteToSample Note}</pre>
        <pre>
          <code class="block">OUT: &lt;liste&gt; de sample compris dans l'intervalle [-1;1]</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show655()">Show</button>
          <pre id="655" style="display: none;">
            <code>fun{NoteToSample Note}
                local
                    Pi = 3.14159265359
                    Hauteur = {Int.toFloat {Height Note}}
                    Frequence = {Number.pow 2.0 Hauteur/12.0} * 440.0
                    Duree =  Note.duration
                    NbreEchantillons =  Duree * 44100.0 + 1.0                       
                    
                    fun{ToList A}
                            if  A &lt; NbreEchantillons then 
            		            (1.0/2.0) * {Float.sin (2.0*Pi*Frequence* A)/44100.0} | {ToList A+1.0}
                            else
                                nil
                            end
            	    end
                in
                   {ToList 1.0}
                end
            end</code>
          </pre>
          <script>function show655() {  var x = document.getElementById("655");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>ToList</h4>
        <pre style="font-style: italic;">{ToList A}</pre>
        <pre>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show676()">Show</button>
          <pre id="676" style="display: none;">
            <code>fun{ToList A}
                            if  A &lt; NbreEchantillons then 
            		            (1.0/2.0) * {Float.sin (2.0*Pi*Frequence* A)/44100.0} | {ToList A+1.0}
                            else
                                nil
                            end
            	    end</code>
          </pre>
          <script>function show676() {  var x = document.getElementById("676");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>SilenceToSample</h4>
        <pre style="font-style: italic;">{SilenceToSample S}</pre>
        <pre>
          <code class="block">OUT: Sample compris dans l'intervalle [-1;1]</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show699()">Show</button>
          <pre id="699" style="display: none;">
            <code>fun{SilenceToSample S}
                local Duree in
                    case S
                    of silence(duration:D) then
                        Duree = D
                    else
                        Duree = 1.0
                    end
                    
                    local
                        NbreEchantillons =  Duree * 44100.0 + 1.0
                        fun{ToList A}
                                if  A &lt; NbreEchantillons then 
                		            0.0 | {ToList A+1.0}
                                else
                                    nil
                                end
                	    end
                    in
                       {ToList 1.0}
                    end
                end
            end</code>
          </pre>
          <script>function show699() {  var x = document.getElementById("699");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>ToList</h4>
        <pre style="font-style: italic;">{ToList A}</pre>
        <pre>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show718()">Show</button>
          <pre id="718" style="display: none;">
            <code>fun{ToList A}
                                if  A &lt; NbreEchantillons then 
                		            0.0 | {ToList A+1.0}
                                else
                                    nil
                                end
                	    end</code>
          </pre>
          <script>function show718() {  var x = document.getElementById("718");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>ChordToSample</h4>
        <pre style="font-style: italic;">{ChordToSample Accord}</pre>
        <pre>
          <code class="block">OUT : &lt;sample&gt; compris dans l'intervalle [-1;1]</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show737()">Show</button>
          <pre id="737" style="display: none;">
            <code>fun {ChordToSample Accord}
                
                local Pi AllFrequencies NumberOfNotes AllSinus in
                
                    Pi = 3.14159265359
                    
                    % Fonction enregistrant dans une liste 
                    %   chaque frequence associees aux notes de l'accord
                    % IN : &lt;extended chord&gt;
                    % OUT: &lt;liste&gt; contenant les frequences associees aux notes de l'accord
                    fun{AllFrequencies Accord}
                        case Accord
                        of H|T then
                            {Number.pow 2.0 {Int.toFloat {Height H}}/12.0} * 440.0 | {AllFrequencies T}
                        else
                            nil
                        end
                    end
                    
                    % Fonction calculant le nombre de notes dans un accord
                    % IN: &lt;chord&gt; 
                    % OUT: &lt;natural&gt; nombre de notes dans l'accord
                    fun{NumberOfNotes Accord Acc}
                        case Accord
                        of H|T then 
                            {NumberOfNotes T Acc+1}
                        else
                            Acc
                        end
                    end
                
                
                    % Fonction creant une liste avec tous les sinus des differentes notes de l'accord
                    % IN: &lt;list&gt; des frequences des notes 
                    % OUT: liste des sinus dans la formule Ai 
                    fun {AllSinus Liste}
                        local NbreNotes Duree NbreEchantillons Expression Create
                        in
                            NbreNotes = {NumberOfNotes Liste 0}
                            Duree = (Accord.1).duration
                            NbreEchantillons = Duree *  44100.0 
                            
                            % Fonction calculant le signal emis par une note en particulier a un temps I
                            % IN: &lt;natual&gt; I 
                            % OUT: Signal emis par une note au temps i
                            fun{Expression I Liste}
                                case Liste
                                of H|T then
                                    (1.0/2.0) * {Float.sin (2.0*Pi*H*I)/44100.0} + {Expression I T} 
                                else
                                    0.0
                                end
                            end
                            
                            % Fonction qui repete la formule a tous les i 
                            % IN: &lt;integer&gt; accumulateur 
                            % OUT: &lt;liste&gt;
                            fun{Create Acc}
                                if Acc&lt;NbreEchantillons then
                                    ({Expression Acc Liste}/{Int.toFloat NbreNotes}) | {Create Acc+1.0}
                                else 
                                    nil
                                end
                            end    
                            {Create 0.0}
                        end
                    end
                    {AllSinus {AllFrequencies Accord}}
                end       
            end</code>
          </pre>
          <script>function show737() {  var x = document.getElementById("737");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>AllFrequencies</h4>
        <pre style="font-style: italic;">{AllFrequencies Accord}</pre>
        <pre>
          <code class="block">OUT: &lt;liste&gt; contenant les frequences associees aux notes de l'accord</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show752()">Show</button>
          <pre id="752" style="display: none;">
            <code>fun{AllFrequencies Accord}
                        case Accord
                        of H|T then
                            {Number.pow 2.0 {Int.toFloat {Height H}}/12.0} * 440.0 | {AllFrequencies T}
                        else
                            nil
                        end
                    end</code>
          </pre>
          <script>function show752() {  var x = document.getElementById("752");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>NumberOfNotes</h4>
        <pre style="font-style: italic;">{NumberOfNotes Accord Acc}</pre>
        <pre>
          <code class="block">OUT: &lt;natural&gt; nombre de notes dans l'accord</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show777()">Show</button>
          <pre id="777" style="display: none;">
            <code>fun{NumberOfNotes Accord Acc}
                        case Accord
                        of H|T then 
                            {NumberOfNotes T Acc+1}
                        else
                            Acc
                        end
                    end</code>
          </pre>
          <script>function show777() {  var x = document.getElementById("777");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>AllSinus</h4>
        <pre style="font-style: italic;">{AllSinus Liste}</pre>
        <pre>
          <code class="block">OUT: liste des sinus dans la formule Ai </code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show797()">Show</button>
          <pre id="797" style="display: none;">
            <code>fun {AllSinus Liste}
                        local NbreNotes Duree NbreEchantillons Expression Create
                        in
                            NbreNotes = {NumberOfNotes Liste 0}
                            Duree = (Accord.1).duration
                            NbreEchantillons = Duree *  44100.0 
                            
                            % Fonction calculant le signal emis par une note en particulier a un temps I
                            % IN: &lt;natual&gt; I 
                            % OUT: Signal emis par une note au temps i
                            fun{Expression I Liste}
                                case Liste
                                of H|T then
                                    (1.0/2.0) * {Float.sin (2.0*Pi*H*I)/44100.0} + {Expression I T} 
                                else
                                    0.0
                                end
                            end
                            
                            % Fonction qui repete la formule a tous les i 
                            % IN: &lt;integer&gt; accumulateur 
                            % OUT: &lt;liste&gt;
                            fun{Create Acc}
                                if Acc&lt;NbreEchantillons then
                                    ({Expression Acc Liste}/{Int.toFloat NbreNotes}) | {Create Acc+1.0}
                                else 
                                    nil
                                end
                            end    
                            {Create 0.0}
                        end
                    end</code>
          </pre>
          <script>function show797() {  var x = document.getElementById("797");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Expression</h4>
        <pre style="font-style: italic;">{Expression I Liste}</pre>
        <pre>
          <code class="block">OUT: Signal emis par une note au temps i</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show819()">Show</button>
          <pre id="819" style="display: none;">
            <code>fun{Expression I Liste}
                                case Liste
                                of H|T then
                                    (1.0/2.0) * {Float.sin (2.0*Pi*H*I)/44100.0} + {Expression I T} 
                                else
                                    0.0
                                end
                            end</code>
          </pre>
          <script>function show819() {  var x = document.getElementById("819");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Create</h4>
        <pre style="font-style: italic;">{Create Acc}</pre>
        <pre>
          <code class="block">OUT: &lt;liste&gt;</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show843()">Show</button>
          <pre id="843" style="display: none;">
            <code>fun{Create Acc}
                                if Acc&lt;NbreEchantillons then
                                    ({Expression Acc Liste}/{Int.toFloat NbreNotes}) | {Create Acc+1.0}
                                else 
                                    nil
                                end
                            end</code>
          </pre>
          <script>function show843() {  var x = document.getElementById("843");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>PartitionToSamples</h4>
        <pre style="font-style: italic;">{PartitionToSamples Partition}</pre>
        <pre>
          <code class="block">OUT : &lt;samples&gt;</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show873()">Show</button>
          <pre id="873" style="display: none;">
            <code>fun{PartitionToSamples Partition}
                case Partition
                of H|T then
                    case H
                    of note(name:N octave:O sharp:S duration:D instrument:I) then
                        {Append {NoteToSample H} {PartitionToSamples T}}
                    [] H2 | T2 then %cas ou il s'agit d'un accord
                        {Append {ChordToSample H} {PartitionToSamples T}}
                    [] silence(duration:D) then % cas ou il s'agit d'un silence
                        {Append {SilenceToSample H} {PartitionToSamples T}}
                    [] silence then
                        {Append {SilenceToSample H} {PartitionToSamples T}}
                    else
                        nil
                    end
                else
                    nil
                end
            end</code>
          </pre>
          <script>function show873() {  var x = document.getElementById("873");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>ToSample</h4>
        <pre style="font-style: italic;">{ToSample Part}</pre>
        <pre>
          <code class="block">OUT: &lt;samples&gt;</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show940()">Show</button>
          <pre id="940" style="display: none;">
            <code>fun{ToSample Part}
                case Part 
                of samples(1:S) then
                    S
                [] partition(1:P) then
                    {PartitionToSamples {P2T P}} 
                [] wave(1:FileName) then
                    {Project.readFile FileName}
                [] merge(1:MusicWithIntensities) then
                    {Merge MusicWithIntensities}
                    
                else %si c'est un filtre
                    case Part 
                    of reverse(1:Music) then
                        {Reverse {MusicToSample Music}}
                    [] repeat(amount:K 1:Music) then
                        {Repeat K {MusicToSample Music}}
                    [] loop(seconds:S 1:Music) then
                        {Loop S {MusicToSample Music}}
                    [] clip(low:S high:J 1:Music) then
                        {Clip S J {MusicToSample Music}}
                    [] echo(delay:D decay:Factor 1:Music) then
                        {Echo D Factor {MusicToSample Music}}
                    [] fade(start:S out:D 1:Music) then
                        {Fade S D {MusicToSample Music}}
                    [] cut(start:D finish:F 1:Music) then
                        {Cut D F {MusicToSample Music}}
                    else
                        nil
                    end
                end
            end</code>
          </pre>
          <script>function show940() {  var x = document.getElementById("940");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>MusicToSample</h4>
        <pre style="font-style: italic;">{MusicToSample Music}</pre>
        <pre>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1052()">Show</button>
          <pre id="1052" style="display: none;">
            <code>fun{MusicToSample Music}
                case Music
                of H|T then
                    {Append {ToSample H} {MusicToSample T}}
                else
                    nil
                end
            end</code>
          </pre>
          <script>function show1052() {  var x = document.getElementById("1052");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Merge</h4>
        <pre style="font-style: italic;">{Merge MusicWI}</pre>
        <pre>
          <code class="block">OUT: &lt;music&gt;</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1075()">Show</button>
          <pre id="1075" style="display: none;">
            <code>fun{Merge MusicWI}
                
                local 
                    
                    % Fonction multipliant toutes les samples d'une musique par son facteur associe 
                    % IN: &lt;Music with intensities&gt;
                    % OUT: Liste de Sample
                    fun{Multiplying M}
                        case M
                        of H|T then     %pattern matching de la music with intenities 
                            case H      % H est une music
                            of Factor#Music then
                                local SampleListe in
                                    SampleListe = {MusicToSample Music} 
                                    local
                                        fun{Multiply Fact List}
                                            case List 
                                            of H2|T2 then
                                                H2*Fact|{Multiply Fact T2}
                                            else
                                                nil
                                            end
                                        end
                                    in
                                        {Multiply Factor SampleListe}|{Multiplying T}
                                    end
                                end
                            else
                                nil
                            end 
                        else
                            nil
                        end
                    end
                    
            % A ce stade, la music a ete convertie en sample dont les valeurs ont ete multipliees par les facteurs associes
            
                    
                    %IN: &lt;list&gt; sortant de Multpiplying 
                    fun{Summing ListOfL}
                        local LengthMax LMax LonList SumL IndexL GetIndex in
                            %Retourne la longueur d'une liste
                            fun{LonList L A}
                                case L
                                of H|T then
                                    {LonList T A+1}
                                else
                                    A
                                end
                            end
                            
                            % Fonction List.nth 
                            fun{GetIndex L N}
                                case L
                                of H|T then
                                    if N&gt;1 then 
                                        {GetIndex T N-1}
                                    else
                                        H
                                    end
                                else
                                    nil
                                end
                            end
                            
                            % Fonction qui retourne l'index de la liste la plus longue de la liste en argument
                            % IN: &lt;list&gt;, longueur, index, accumulateurdont chaque element est une liste
                            % OUT: &lt;integer&gt; 
                            fun{LengthMax Liste Long Index Acc}
                                case Liste
                                of H|T then % Liste est une liste de liste donc H est a nouveau une liste
                                    local Longueur in
                                        Longueur = {LonList H 0}
                                        if (Longueur &gt; Long) then
                                            {LengthMax T Longueur Acc Acc+1}
                                        else
                                            {LengthMax T Long Index Acc+1}
                                        end
                                    end
                                else
                                    Long
                                end
                            end
                            LMax = {LengthMax ListOfL 1 1 1}
                            fun{SumL List Acc}
                                if Acc =&lt; LMax then
                                    local 
                                        % Additione le nieme element de chaque liste dans L
                                        fun{AddNthElem L N A}
                                            case L
                                            of H|T then
                                                if {LonList H 0} &lt; N then
                                                    {AddNthElem T N A} %Si la liste est plus courte on comble avec des silences
                                                else
                                                    {AddNthElem T N A+{GetIndex H N}}
                                                end
                                            else
                                                A
                                            end
                                        end
                                    in 
                                        {AddNthElem List Acc 0.0}|{SumL List Acc+1}
                                    end
                                else
                                    nil
                                end
                            end
                            {SumL ListOfL 1}
                        end
                    end
                in
                    {Summing {Multiplying MusicWI}}
                end
            end</code>
          </pre>
          <script>function show1075() {  var x = document.getElementById("1075");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Multiplying</h4>
        <pre style="font-style: italic;">{Multiplying M}</pre>
        <pre>
          <code class="block">OUT: Liste de Sample</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1083()">Show</button>
          <pre id="1083" style="display: none;">
            <code>fun{Multiplying M}
                        case M
                        of H|T then     %pattern matching de la music with intenities 
                            case H      % H est une music
                            of Factor#Music then
                                local SampleListe in
                                    SampleListe = {MusicToSample Music} 
                                    local
                                        fun{Multiply Fact List}
                                            case List 
                                            of H2|T2 then
                                                H2*Fact|{Multiply Fact T2}
                                            else
                                                nil
                                            end
                                        end
                                    in
                                        {Multiply Factor SampleListe}|{Multiplying T}
                                    end
                                end
                            else
                                nil
                            end 
                        else
                            nil
                        end
                    end</code>
          </pre>
          <script>function show1083() {  var x = document.getElementById("1083");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Multiply</h4>
        <pre style="font-style: italic;">{Multiply Fact List}</pre>
        <pre>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1109()">Show</button>
          <pre id="1109" style="display: none;">
            <code>fun{Multiply Fact List}
                                            case List 
                                            of H2|T2 then
                                                H2*Fact|{Multiply Fact T2}
                                            else
                                                nil
                                            end
                                        end</code>
          </pre>
          <script>function show1109() {  var x = document.getElementById("1109");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Summing</h4>
        <pre style="font-style: italic;">{Summing ListOfL}</pre>
        <pre>
          <code class="block">IN: &lt;list&gt; sortant de Multpiplying </code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1139()">Show</button>
          <pre id="1139" style="display: none;">
            <code>fun{Summing ListOfL}
                        local LengthMax LMax LonList SumL IndexL GetIndex in
                            %Retourne la longueur d'une liste
                            fun{LonList L A}
                                case L
                                of H|T then
                                    {LonList T A+1}
                                else
                                    A
                                end
                            end
                            
                            % Fonction List.nth 
                            fun{GetIndex L N}
                                case L
                                of H|T then
                                    if N&gt;1 then 
                                        {GetIndex T N-1}
                                    else
                                        H
                                    end
                                else
                                    nil
                                end
                            end
                            
                            % Fonction qui retourne l'index de la liste la plus longue de la liste en argument
                            % IN: &lt;list&gt;, longueur, index, accumulateurdont chaque element est une liste
                            % OUT: &lt;integer&gt; 
                            fun{LengthMax Liste Long Index Acc}
                                case Liste
                                of H|T then % Liste est une liste de liste donc H est a nouveau une liste
                                    local Longueur in
                                        Longueur = {LonList H 0}
                                        if (Longueur &gt; Long) then
                                            {LengthMax T Longueur Acc Acc+1}
                                        else
                                            {LengthMax T Long Index Acc+1}
                                        end
                                    end
                                else
                                    Long
                                end
                            end
                            LMax = {LengthMax ListOfL 1 1 1}
                            fun{SumL List Acc}
                                if Acc =&lt; LMax then
                                    local 
                                        % Additione le nieme element de chaque liste dans L
                                        fun{AddNthElem L N A}
                                            case L
                                            of H|T then
                                                if {LonList H 0} &lt; N then
                                                    {AddNthElem T N A} %Si la liste est plus courte on comble avec des silences
                                                else
                                                    {AddNthElem T N A+{GetIndex H N}}
                                                end
                                            else
                                                A
                                            end
                                        end
                                    in 
                                        {AddNthElem List Acc 0.0}|{SumL List Acc+1}
                                    end
                                else
                                    nil
                                end
                            end
                            {SumL ListOfL 1}
                        end
                    end</code>
          </pre>
          <script>function show1139() {  var x = document.getElementById("1139");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>LonList</h4>
        <pre style="font-style: italic;">{LonList L A}</pre>
        <pre>
          <code class="block">Retourne la longueur d'une liste</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1152()">Show</button>
          <pre id="1152" style="display: none;">
            <code>fun{LonList L A}
                                case L
                                of H|T then
                                    {LonList T A+1}
                                else
                                    A
                                end
                            end</code>
          </pre>
          <script>function show1152() {  var x = document.getElementById("1152");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>GetIndex</h4>
        <pre style="font-style: italic;">{GetIndex L N}</pre>
        <pre>
          <code class="block">Fonction List.nth </code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1170()">Show</button>
          <pre id="1170" style="display: none;">
            <code>fun{GetIndex L N}
                                case L
                                of H|T then
                                    if N&gt;1 then 
                                        {GetIndex T N-1}
                                    else
                                        H
                                    end
                                else
                                    nil
                                end
                            end</code>
          </pre>
          <script>function show1170() {  var x = document.getElementById("1170");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>LengthMax</h4>
        <pre style="font-style: italic;">{LengthMax Liste Long Index Acc}</pre>
        <pre>
          <code class="block">OUT: &lt;integer&gt; </code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1194()">Show</button>
          <pre id="1194" style="display: none;">
            <code>fun{LengthMax Liste Long Index Acc}
                                case Liste
                                of H|T then % Liste est une liste de liste donc H est a nouveau une liste
                                    local Longueur in
                                        Longueur = {LonList H 0}
                                        if (Longueur &gt; Long) then
                                            {LengthMax T Longueur Acc Acc+1}
                                        else
                                            {LengthMax T Long Index Acc+1}
                                        end
                                    end
                                else
                                    Long
                                end
                            end</code>
          </pre>
          <script>function show1194() {  var x = document.getElementById("1194");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>SumL</h4>
        <pre style="font-style: italic;">{SumL List Acc}</pre>
        <pre>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1238()">Show</button>
          <pre id="1238" style="display: none;">
            <code>fun{SumL List Acc}
                                if Acc =&lt; LMax then
                                    local 
                                        % Additione le nieme element de chaque liste dans L
                                        fun{AddNthElem L N A}
                                            case L
                                            of H|T then
                                                if {LonList H 0} &lt; N then
                                                    {AddNthElem T N A} %Si la liste est plus courte on comble avec des silences
                                                else
                                                    {AddNthElem T N A+{GetIndex H N}}
                                                end
                                            else
                                                A
                                            end
                                        end
                                    in 
                                        {AddNthElem List Acc 0.0}|{SumL List Acc+1}
                                    end
                                else
                                    nil
                                end
                            end</code>
          </pre>
          <script>function show1238() {  var x = document.getElementById("1238");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>AddNthElem</h4>
        <pre style="font-style: italic;">{AddNthElem L N A}</pre>
        <pre>
          <code class="block">Additione le nieme element de chaque liste dans L</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1249()">Show</button>
          <pre id="1249" style="display: none;">
            <code>fun{AddNthElem L N A}
                                            case L
                                            of H|T then
                                                if {LonList H 0} &lt; N then
                                                    {AddNthElem T N A} %Si la liste est plus courte on comble avec des silences
                                                else
                                                    {AddNthElem T N A+{GetIndex H N}}
                                                end
                                            else
                                                A
                                            end
                                        end</code>
          </pre>
          <script>function show1249() {  var x = document.getElementById("1249");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Reverse</h4>
        <pre style="font-style: italic;">{Reverse Music}</pre>
        <pre>
          <code class="block">OUT: &lt;music&gt; dont la liste d'echantillons a ete inversee</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1309()">Show</button>
          <pre id="1309" style="display: none;">
            <code>fun{Reverse Music}
                local
                    fun {DoReverse Xs Ys}
                        case Xs
                        of X|Xr then
                            {DoReverse Xr X|Ys}
                        else
                            Ys
                        end
                    end
                in
                    {DoReverse Music nil}
                end
            end</code>
          </pre>
          <script>function show1309() {  var x = document.getElementById("1309");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>DoReverse</h4>
        <pre style="font-style: italic;">{DoReverse Xs Ys}</pre>
        <pre>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1314()">Show</button>
          <pre id="1314" style="display: none;">
            <code>fun {DoReverse Xs Ys}
                        case Xs
                        of X|Xr then
                            {DoReverse Xr X|Ys}
                        else
                            Ys
                        end
                    end</code>
          </pre>
          <script>function show1314() {  var x = document.getElementById("1314");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Repeat</h4>
        <pre style="font-style: italic;">{Repeat K Music}</pre>
        <pre>
          <code class="block">OUT : &lt;Music&gt; repetee K fois</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1340()">Show</button>
          <pre id="1340" style="display: none;">
            <code>fun {Repeat K Music}
                local
                    fun{RepeatSample N K2}
                        if K2&gt;0 then
                            {Append N {RepeatSample N K2-1}}
                        else
                            nil
                        end
                    end
                in
                    case Music 
                    of H|T then
            	        {RepeatSample Music K}
                    else
                        nil
                    end
                end
            end</code>
          </pre>
          <script>function show1340() {  var x = document.getElementById("1340");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>RepeatSample</h4>
        <pre style="font-style: italic;">{RepeatSample N K2}</pre>
        <pre>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1346()">Show</button>
          <pre id="1346" style="display: none;">
            <code>fun{RepeatSample N K2}
                        if K2&gt;0 then
                            {Append N {RepeatSample N K2-1}}
                        else
                            nil
                        end
                    end</code>
          </pre>
          <script>function show1346() {  var x = document.getElementById("1346");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Loop</h4>
        <pre style="font-style: italic;">{Loop Time Music}</pre>
        <pre>
          <code class="block">OUT: &lt;music&gt;</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1377()">Show</button>
          <pre id="1377" style="display: none;">
            <code>fun{Loop Time Music}
                local 
                    % Savoir combien d'echantillons il y a dans musique pour avoir la duree de celle ci
                    fun{CountSample Music A}
                        case Music
                        of H|T then
                            {CountSample T A+1.0}
                        else
                            A
                        end
            	    end
            	                       
            	    % La fonction est appelee apres avoir copie un nmbr entier de fois la musique
                	fun{EndingLoop Music Tref}
                        if Tref &gt; 0.0 andthen Music \= nil then
                            Music.1|{EndingLoop Music.2 (Tref-1.0)}
                        else
                            nil
                        end
                	end
                	
                	fun{AmountOfRepeat N T Acc}
                        if (T-N)&gt;0.0 then
                            {AmountOfRepeat N T-N Acc+1.0}
                        else
                            Acc
                        end
                	end
                in
                    local NbrEchant Amount Tref in
                    
                        NbrEchant = {CountSample Music 0.0}
                        Amount = {AmountOfRepeat NbrEchant Time*44100.0 0.0}
                        
                        Tref = Time*44100.0 - NbrEchant*Amount
                        {Append {Repeat {Float.toInt Amount} Music} {EndingLoop Music Tref}}
                        
                    end
                end
            end</code>
          </pre>
          <script>function show1377() {  var x = document.getElementById("1377");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>CountSample</h4>
        <pre style="font-style: italic;">{CountSample Music A}</pre>
        <pre>
          <code class="block">Savoir combien d'echantillons il y a dans musique pour avoir la duree de celle ci</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1384()">Show</button>
          <pre id="1384" style="display: none;">
            <code>fun{CountSample Music A}
                        case Music
                        of H|T then
                            {CountSample T A+1.0}
                        else
                            A
                        end
            	    end</code>
          </pre>
          <script>function show1384() {  var x = document.getElementById("1384");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>EndingLoop</h4>
        <pre style="font-style: italic;">{EndingLoop Music Tref}</pre>
        <pre>
          <code class="block">La fonction est appelee apres avoir copie un nmbr entier de fois la musique</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1402()">Show</button>
          <pre id="1402" style="display: none;">
            <code>fun{EndingLoop Music Tref}
                        if Tref &gt; 0.0 andthen Music \= nil then
                            Music.1|{EndingLoop Music.2 (Tref-1.0)}
                        else
                            nil
                        end
                	end</code>
          </pre>
          <script>function show1402() {  var x = document.getElementById("1402");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>AmountOfRepeat</h4>
        <pre style="font-style: italic;">{AmountOfRepeat N T Acc}</pre>
        <pre>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1418()">Show</button>
          <pre id="1418" style="display: none;">
            <code>fun{AmountOfRepeat N T Acc}
                        if (T-N)&gt;0.0 then
                            {AmountOfRepeat N T-N Acc+1.0}
                        else
                            Acc
                        end
                	end</code>
          </pre>
          <script>function show1418() {  var x = document.getElementById("1418");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Clip</h4>
        <pre style="font-style: italic;">{Clip Low High Sample}</pre>
        <pre>
          <code class="block">OUT: &lt;sample&gt; dont les valeurs sont comprises entre &lt;low&gt; et &lt;high&gt;</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1472()">Show</button>
          <pre id="1472" style="display: none;">
            <code>fun{Clip Low High Sample}
                case Sample
                of H|T then
                    if H &gt; High orelse H &lt; Low then
                        if H &gt; High then
                            High|{Clip Low High T}
                        else
                            Low|{Clip Low High T}
                        end
                    end
                else 
                    nil
                end
            end</code>
          </pre>
          <script>function show1472() {  var x = document.getElementById("1472");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Echo</h4>
        <pre style="font-style: italic;">{Echo Delay Decay Music}</pre>
        <pre>
          <code class="block">OUT: &lt;music&gt; avec superposition de la meme music decalee pour l'echo</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1512()">Show</button>
          <pre id="1512" style="display: none;">
            <code>fun{Echo Delay Decay Music}
                local MusicDecalee NbrEchantillonsRetard Collage MusicWithIntensities DelayList in
                    NbrEchantillonsRetard = Delay * 44100.0
                    
                    % Fonction qui ajoute N 0 devant la liste = Colle les zeros avant la musique
                    % IN: &lt;list&gt; liste a laquelle on souhaite ajouter des zeros devant, &lt;float&gt; N nombre de zeros a ajouter
                    % OUT: &lt;list&gt; precedee de N* 0
                    fun{Collage L N}
                        if N&gt;0.0 then
                            0.0|{Collage L N-1.0}
                        else
                            L
                        end
                    end
                    
                    DelayList = {Collage Music NbrEchantillonsRetard}
                    MusicWithIntensities= 1.0#Music | Decay#DelayList | nil
                    
                    {Merge MusicWithIntensities}
                end
            end</code>
          </pre>
          <script>function show1512() {  var x = document.getElementById("1512");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Collage</h4>
        <pre style="font-style: italic;">{Collage L N}</pre>
        <pre>
          <code class="block">OUT: &lt;list&gt; precedee de N* 0</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1530()">Show</button>
          <pre id="1530" style="display: none;">
            <code>fun{Collage L N}
                        if N&gt;0.0 then
                            0.0|{Collage L N-1.0}
                        else
                            L
                        end
                    end</code>
          </pre>
          <script>function show1530() {  var x = document.getElementById("1530");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Fade</h4>
        <pre style="font-style: italic;">{Fade Start Stop Sample}</pre>
        <pre>
          <code class="block">OUT: &lt;sample&gt; </code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1560()">Show</button>
          <pre id="1560" style="display: none;">
            <code>fun{Fade Start Stop Sample}
            
                local NbreDebut PasDebut FactorIncreasing Augmentation NbreFin PasFin FactorDecreasing Diminution NbrEchantillon PremierAModifier Main in
                    NbreDebut = Start * 44100.0 % Nombre d'echantillons a modifier pour le debut
                    PasDebut = 1.0/NbreDebut                   % Calcul du pas
                    
                    % Fonction renvoyant une liste avec les facteurs d'intensites croissants
                    % IN: &lt;Integer&gt; Acc = 0.0
                    % OUT: &lt;list&gt; avec les facteurs croissants
                    fun{FactorIncreasing Acc}
                        if (Acc =&lt; 1.0) then
                            Acc|{FactorIncreasing Acc+PasDebut}
                        else
                            nil
                        end
                    end
                    
                    Augmentation = {FactorIncreasing 0.0}
                    
                    NbreFin = Stop * 44100.0 % Nombre d'echantillon a modifier pour la fin
                    PasFin = 1.0/NbreFin                     % Calcul du pas
                    
                    % Fonction renvoyant une liste avec les facteurs d'intensites decroissants
                    % IN: &lt;Integer&gt; Acc = 1.0
                    % OUT: &lt;list&gt; avec les facteurs decroissants
                    fun{FactorDecreasing Acc}
                        if Acc &gt;= 0.0 then
                            Acc|{FactorDecreasing Acc-PasFin}
                        else
                            nil
                        end
                    end
                    
                    Diminution = {FactorDecreasing 1.0}
                    
                    fun{NbrEchantillon Sample Acc}
                        case Sample 
                        of H|T then
                            {NbrEchantillon T Acc+1.0}
                        else
                            Acc
                        end
                    end
                    
                    PremierAModifier = {NbrEchantillon Sample 0.0} - NbreFin -1.0
                    
                    % Sous-fonction principale 
                    % - augmentant lineairement l'intervalle d'echantillon [0;Start] 
                    % - laissant intacte la partie centrale
                    % - diminuant lineairement l'intervalle d'echantillon [PremierAModifier; NbreEchantillons] 
                    % IN: &lt;Increasing&gt; = liste croissants des facteurs, &lt;sample&gt; = Sample original, &lt;Decreasing&gt; = liste decroissante des facteurs 
                    % OUT: sample avec les premiers echantillons d'intensites croissantes et les derniers d'intensites decroissantes
                    
                    fun {Main Increasing Sample Decreasing Acc}
                        case Sample
                        of H|T then %patern maching sur Liste
                            case Increasing     %patern maching sur Increasing
                            of H1|T1 then
                                H*H1| {Main T1 T Decreasing Acc+1.0}
                            else                % cas ou tous la liste des intensites croissante est entierement parcourue
                                if Acc &lt; PremierAModifier then              % partie de la liste a laisser intacte
                                    H|{Main Increasing T Decreasing Acc+1.0}
                                else
                                    case Decreasing 
                                    of H2|T2 then
                                        H2*H|{Main Increasing T T2 Acc+1.0} %NB: changer l'accumulateur ici n'apporte rien mais pour la coherence il a tout de meme ete incremente
                                    else
                                        nil
                                    end
                                end
                            end
                        else
                            nil
                        end
                    end
                    {Main Augmentation Sample Diminution 0.0}
                end
            end</code>
          </pre>
          <script>function show1560() {  var x = document.getElementById("1560");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>FactorIncreasing</h4>
        <pre style="font-style: italic;">{FactorIncreasing Acc}</pre>
        <pre>
          <code class="block">OUT: &lt;list&gt; avec les facteurs croissants</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1588()">Show</button>
          <pre id="1588" style="display: none;">
            <code>fun{FactorIncreasing Acc}
                        if (Acc =&lt; 1.0) then
                            Acc|{FactorIncreasing Acc+PasDebut}
                        else
                            nil
                        end
                    end</code>
          </pre>
          <script>function show1588() {  var x = document.getElementById("1588");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>FactorDecreasing</h4>
        <pre style="font-style: italic;">{FactorDecreasing Acc}</pre>
        <pre>
          <code class="block">OUT: &lt;list&gt; avec les facteurs decroissants</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1613()">Show</button>
          <pre id="1613" style="display: none;">
            <code>fun{FactorDecreasing Acc}
                        if Acc &gt;= 0.0 then
                            Acc|{FactorDecreasing Acc-PasFin}
                        else
                            nil
                        end
                    end</code>
          </pre>
          <script>function show1613() {  var x = document.getElementById("1613");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>NbrEchantillon</h4>
        <pre style="font-style: italic;">{NbrEchantillon Sample Acc}</pre>
        <pre>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1629()">Show</button>
          <pre id="1629" style="display: none;">
            <code>fun{NbrEchantillon Sample Acc}
                        case Sample 
                        of H|T then
                            {NbrEchantillon T Acc+1.0}
                        else
                            Acc
                        end
                    end</code>
          </pre>
          <script>function show1629() {  var x = document.getElementById("1629");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Main</h4>
        <pre style="font-style: italic;">{Main Increasing Sample Decreasing Acc}</pre>
        <pre>
          <code class="block">OUT: sample avec les premiers echantillons d'intensites croissantes et les derniers d'intensites decroissantes</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1657()">Show</button>
          <pre id="1657" style="display: none;">
            <code>fun {Main Increasing Sample Decreasing Acc}
                        case Sample
                        of H|T then %patern maching sur Liste
                            case Increasing     %patern maching sur Increasing
                            of H1|T1 then
                                H*H1| {Main T1 T Decreasing Acc+1.0}
                            else                % cas ou tous la liste des intensites croissante est entierement parcourue
                                if Acc &lt; PremierAModifier then              % partie de la liste a laisser intacte
                                    H|{Main Increasing T Decreasing Acc+1.0}
                                else
                                    case Decreasing 
                                    of H2|T2 then
                                        H2*H|{Main Increasing T T2 Acc+1.0} %NB: changer l'accumulateur ici n'apporte rien mais pour la coherence il a tout de meme ete incremente
                                    else
                                        nil
                                    end
                                end
                            end
                        else
                            nil
                        end
                    end</code>
          </pre>
          <script>function show1657() {  var x = document.getElementById("1657");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Cut</h4>
        <pre style="font-style: italic;">{Cut Start Finish Music}</pre>
        <pre>
          <code class="block">OUT: Sample</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1727()">Show</button>
          <pre id="1727" style="display: none;">
            <code>fun{Cut Start Finish Music}
            
                local Sample TropCourt NbreSilenceAAjouter DureeTotale EchantillonDepart EchantillonFin NbrSamples NbrSamples NbreEchantillons Main in
                    Sample = {MusicToSample Music}
                    
                    EchantillonDepart = Start * 44100.0        % Echantillon de depart
                    EchantillonFin = Finish * 44100.0          % Echantillon de fin
                    
                    fun{NbrSamples Sample Acc}
                        case Sample 
                        of H|T then
                            {NbrSamples T Acc+1.0}
                        else
                            Acc
                        end
                    end
                    NbreEchantillons = {NbrSamples Sample 0.0}
                    
                    DureeTotale = NbreEchantillons * 44100.0
                    
                    if EchantillonFin &gt; NbreEchantillons then % cas ou l'intervalle depasse la taille de la musique
                        TropCourt = true                % La musique est en effet trop courte et doit etre completees par des silences
                    else
                        TropCourt = false
                    end
                
                    fun{Main Sample Acc AccSilence}
                        case Sample
                        of H|T then
                            if Acc &lt; EchantillonDepart then       % Cas ou il ne faut pas recuperer la fonction
                                {Main T Acc+1 AccSilence}
                            elseif TropCourt == false andthen Acc &gt;= EchantillonDepart andthen Acc =&lt; EchantillonFin then % Cas ou il faut copier les valeur
                                H|{Main T Acc+1 AccSilence} 
                            else 
                                nil
                            end
                            
                        else % cas ou on est arrive au bout de tous les echantillons
                            
                            NbreSilenceAAjouter = DureeTotale * 44100.0 - Acc
                            if AccSilence &lt; NbreSilenceAAjouter then  % cas ou on est arrive a la fin du Sample et ou il faut ajouter des silences
                                0.0|{Main Sample Acc AccSilence+1.0}
                            else
                                nil 
                            end
                        end
                    end
                    {Main Sample 0.0 0.0}
                end
            end</code>
          </pre>
          <script>function show1727() {  var x = document.getElementById("1727");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>NbrSamples</h4>
        <pre style="font-style: italic;">{NbrSamples Sample Acc}</pre>
        <pre>
          <code class="block">Echantillon de fin</code>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1755()">Show</button>
          <pre id="1755" style="display: none;">
            <code>fun{NbrSamples Sample Acc}
                        case Sample 
                        of H|T then
                            {NbrSamples T Acc+1.0}
                        else
                            Acc
                        end
                    end</code>
          </pre>
          <script>function show1755() {  var x = document.getElementById("1755");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
        <h4>Main</h4>
        <pre style="font-style: italic;">{Main Sample Acc AccSilence}</pre>
        <pre>
          <code class="block"></code>
        </pre>
        <dt>
          <span class="codeLabel">Source Code:</span>
        </dt>
        <dd>
          <button onclick="show1787()">Show</button>
          <pre id="1787" style="display: none;">
            <code>fun{Main Sample Acc AccSilence}
                        case Sample
                        of H|T then
                            if Acc &lt; EchantillonDepart then       % Cas ou il ne faut pas recuperer la fonction
                                {Main T Acc+1 AccSilence}
                            elseif TropCourt == false andthen Acc &gt;= EchantillonDepart andthen Acc =&lt; EchantillonFin then % Cas ou il faut copier les valeur
                                H|{Main T Acc+1 AccSilence} 
                            else 
                                nil
                            end
                            
                        else % cas ou on est arrive au bout de tous les echantillons
                            
                            NbreSilenceAAjouter = DureeTotale * 44100.0 - Acc
                            if AccSilence &lt; NbreSilenceAAjouter then  % cas ou on est arrive a la fin du Sample et ou il faut ajouter des silences
                                0.0|{Main Sample Acc AccSilence+1.0}
                            else
                                nil 
                            end
                        end
                    end</code>
          </pre>
          <script>function show1787() {  var x = document.getElementById("1787");  if (x.style.display === "none") {    x.style.display = "block";  } else {    x.style.display = "none";   }}</script>
        </dd>
      </li>
    </ul>
  </li>
</ul>
    </section>

    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/master.js"></script>
</body>
</html>
